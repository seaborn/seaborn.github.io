
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>Demonstration of next-generation seaborn interface &#8212; seaborn nextgen documentation</title>
  <script>
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "light";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=9b1a4fa89bdd0e95b23b" rel="stylesheet">
<link href="_static/styles/pydata-sphinx-theme.css?digest=9b1a4fa89bdd0e95b23b" rel="stylesheet">

  
  <link rel="stylesheet"
    href="_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=9b1a4fa89bdd0e95b23b">

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'demo';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="API Reference" href="api.html" />
    <link rel="prev" title="Next-generation seaborn interface" href="index.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="docsearch:language" content="en">
  </head>
  
  
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="180" data-default-mode="light">

  
  <input type="checkbox" class="sidebar-toggle" name="__primary" id="__primary">
  <label class="overlay overlay-primary" for="__primary"></label>

  
  <input type="checkbox" class="sidebar-toggle" name="__secondary" id="__secondary">
  <label class="overlay overlay-secondary" for="__secondary"></label>

  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
      
<form class="bd-search d-flex align-items-center" action="search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
    </div>
  </div>

  
  <nav class="bd-header navbar navbar-expand-lg bd-navbar" id="navbar-main"><div class="bd-header__inner container-xl">
  <label class="sidebar-toggle primary-toggle" for="__primary">
      <span class="fas fa-bars"></span>
  </label>
  <div id="navbar-start">
    
    
  


<a class="navbar-brand logo" href="index.html">
  
  
  
  
  
  
    <img src="_static/logo.svg" class="logo__image only-light" alt="Logo image">
    <img src="_static/logo.svg" class="logo__image only-dark" alt="Logo image">
  
  
</a>
    
  </div>

  
  <div class="col-lg-9 navbar-header-items">
    <div id="navbar-center" class="mr-auto">
      
      <div class="navbar-center-item">
        <ul id="navbar-main-elements" class="navbar-nav">
    <li class="toctree-l1 current active nav-item">
 <a class="current reference internal nav-link" href="#">
  Demonstration
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="api.html">
  API Overview
 </a>
</li>

</ul>
      </div>
      
    </div>

    <div id="navbar-end">
      <div class="navbar-end-item navbar-end__search-button-container">
        
<button class="btn btn-sm navbar-btn search-button search-button__button" title="Search">
  <i class="fas fa-search"></i>
</button>
      </div>
      
      <div class="navbar-end-item">
        <span class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle">
    <a class="theme-switch" data-mode="light"><i class="fas fa-sun"></i></a>
    <a class="theme-switch" data-mode="dark"><i class="far fa-moon"></i></a>
    <a class="theme-switch" data-mode="auto"><i class="fas fa-adjust"></i></a>
</span>
      </div>
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
      </ul>
      </div>
      
    </div>
  </div>


  
  <div class="search-button-container--mobile">
<button class="btn btn-sm navbar-btn search-button search-button__button" title="Search">
  <i class="fas fa-search"></i>
</button>
  </div>

  
  <label class="sidebar-toggle secondary-toggle" for="__secondary">
      <span class="fas fa-outdent"></span>
  </label>
  

</div>
  </nav>
  

  <div class="bd-container container-xl">
    <div class="bd-container__inner row">
      
      <div class="bd-sidebar-primary bd-sidebar">
        
  
  <div class="sidebar-header-items sidebar-primary__section">
    <p class="sidebar-header-items__title" role="heading" aria-level="1" aria-label="Navigation">
      Site Navigation
    </p>
    
    
      <div class="sidebar-header-items__center">
      
      <div class="navbar-center-item">
        <ul id="navbar-main-elements" class="navbar-nav">
    <li class="toctree-l1 current active nav-item">
 <a class="current reference internal nav-link" href="#">
  Demonstration
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="api.html">
  API Overview
 </a>
</li>

</ul>
      </div>
      
      </div>
    

    
    
    <div class="sidebar-header-items__end">
      
      <div class="navbar-end-item">
        <span class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle">
    <a class="theme-switch" data-mode="light"><i class="fas fa-sun"></i></a>
    <a class="theme-switch" data-mode="dark"><i class="far fa-moon"></i></a>
    <a class="theme-switch" data-mode="auto"><i class="fas fa-adjust"></i></a>
</span>
      </div>
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
      </ul>
      </div>
      
    </div>
    
  </div>

  
  <div class="sidebar-start-items sidebar-primary__section">
    <div class="sidebar-start-items__item">
<div class="tocsection onthispage">
    <i class="fas fa-list"></i> On this page
</div>
<nav id="bd-toc-nav" class="page-toc">
    <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#the-basic-interface">
   The basic interface
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#core-components">
   Core components
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#visual-representation-the-mark">
     Visual representation: the Mark
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#data-transformations-the-stat">
     Data transformations: the Stat
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#overplotting-resolution-the-move">
     Overplotting resolution: the Move
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#semantic-mapping-the-scale">
     Semantic mapping: the Scale
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#defining-subplot-structure">
   Defining subplot structure
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#customization">
   Customization
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#iterating-and-displaying">
   Iterating and displaying
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#matplotlib-integration">
   Matplotlib integration
  </a>
 </li>
</ul>

</nav>
    </div>
  </div>
  

  
  <div class="sidebar-end-items sidebar-primary__section">
    <div class="sidebar-end-items__item">
    </div>
  </div>

      </div>

      
      
      
        <div class="bd-sidebar-secondary bd-toc">
          
<div class="toc-item">
  
<div class="tocsection onthispage">
    <i class="fas fa-list"></i> On this page
</div>
<nav id="bd-toc-nav" class="page-toc">
    <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#the-basic-interface">
   The basic interface
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#core-components">
   Core components
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#visual-representation-the-mark">
     Visual representation: the Mark
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#data-transformations-the-stat">
     Data transformations: the Stat
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#overplotting-resolution-the-move">
     Overplotting resolution: the Move
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#semantic-mapping-the-scale">
     Semantic mapping: the Scale
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#defining-subplot-structure">
   Defining subplot structure
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#customization">
   Customization
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#iterating-and-displaying">
   Iterating and displaying
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#matplotlib-integration">
   Matplotlib integration
  </a>
 </li>
</ul>

</nav>
</div>

<div class="toc-item">
  
</div>

<div class="toc-item">
  
</div>

        </div>
      
      

      
      
      <div class="bd-content col">
          
          <div class="bd-header-article">
              
          </div>

          
          
          <article class="bd-article" role="main">
            
  <section id="demonstration-of-next-generation-seaborn-interface">
<h1>Demonstration of next-generation seaborn interface<a class="headerlink" href="#demonstration-of-next-generation-seaborn-interface" title="Permalink to this heading">#</a></h1>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This API is <strong>experimental</strong> and <strong>unstable</strong>. Please try it out and provide feedback, but expect it to change without warning prior to an official release.</p>
</div>
<section id="the-basic-interface">
<h2>The basic interface<a class="headerlink" href="#the-basic-interface" title="Permalink to this heading">#</a></h2>
<p>The new interface exists as a set of classes that can be acessed through
a single namespace import:</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">seaborn.objects</span> <span class="k">as</span> <span class="nn">so</span>
</pre></div>
</div>
<p>This is a clean namespace, and I’m leaning towards recommending
<code class="docutils literal notranslate"><span class="pre">from</span> <span class="pre">seaborn.objects</span> <span class="pre">import</span> <span class="pre">*</span></code> for interactive usecases. But let’s
not go so far just yet.</p>
<p>Let’s also import the main namespace so we can load our trusty example
datasets.</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">seaborn</span> <span class="kn">import</span> <span class="n">load_dataset</span>
<span class="n">tips</span> <span class="o">=</span> <span class="n">load_dataset</span><span class="p">(</span><span class="s2">&quot;tips&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>The main object is <code class="docutils literal notranslate"><span class="pre">seaborn.objects.Plot</span></code>. You instantiate it by
passing data and some assignments from columns in the data to roles in
the plot:</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">so</span><span class="o">.</span><span class="n">Plot</span><span class="p">(</span><span class="n">tips</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s2">&quot;total_bill&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;tip&quot;</span><span class="p">)</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/demo_7_0.png"><img alt="_images/demo_7_0.png" src="_images/demo_7_0.png" style="width: 509.15px; height: 378.25px;" /></a>
<p>But instantiating the <code class="docutils literal notranslate"><span class="pre">Plot</span></code> object doesn’t actually plot anything.
For that you need to add some layers:</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">so</span><span class="o">.</span><span class="n">Plot</span><span class="p">(</span><span class="n">tips</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s2">&quot;total_bill&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;tip&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">so</span><span class="o">.</span><span class="n">Dots</span><span class="p">())</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/demo_9_0.png"><img alt="_images/demo_9_0.png" src="_images/demo_9_0.png" style="width: 509.15px; height: 378.25px;" /></a>
<p>Variables can be defined globally, or for a specific layer:</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">so</span><span class="o">.</span><span class="n">Plot</span><span class="p">(</span><span class="n">tips</span><span class="p">)</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">so</span><span class="o">.</span><span class="n">Dots</span><span class="p">(),</span> <span class="n">x</span><span class="o">=</span><span class="s2">&quot;total_bill&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;tip&quot;</span><span class="p">)</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/demo_11_0.png"><img alt="_images/demo_11_0.png" src="_images/demo_11_0.png" style="width: 509.15px; height: 378.25px;" /></a>
<p>Each layer can also have its own data:</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">(</span>
    <span class="n">so</span><span class="o">.</span><span class="n">Plot</span><span class="p">(</span><span class="n">tips</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s2">&quot;total_bill&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;tip&quot;</span><span class="p">)</span>
    <span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">so</span><span class="o">.</span><span class="n">Dots</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="s2">&quot;.6&quot;</span><span class="p">),</span> <span class="n">data</span><span class="o">=</span><span class="n">tips</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s2">&quot;size != 2&quot;</span><span class="p">))</span>
    <span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">so</span><span class="o">.</span><span class="n">Dots</span><span class="p">(),</span> <span class="n">data</span><span class="o">=</span><span class="n">tips</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s2">&quot;size == 2&quot;</span><span class="p">))</span>
<span class="p">)</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/demo_13_0.png"><img alt="_images/demo_13_0.png" src="_images/demo_13_0.png" style="width: 509.15px; height: 378.25px;" /></a>
<p>As in the existing interface, variables can be keys to the <code class="docutils literal notranslate"><span class="pre">data</span></code>
object or vectors of various kinds:</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">(</span>
    <span class="n">so</span><span class="o">.</span><span class="n">Plot</span><span class="p">(</span><span class="n">tips</span><span class="o">.</span><span class="n">to_dict</span><span class="p">(),</span> <span class="n">x</span><span class="o">=</span><span class="s2">&quot;total_bill&quot;</span><span class="p">)</span>
    <span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">so</span><span class="o">.</span><span class="n">Dots</span><span class="p">(),</span> <span class="n">y</span><span class="o">=</span><span class="n">tips</span><span class="p">[</span><span class="s2">&quot;tip&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">to_numpy</span><span class="p">())</span>
<span class="p">)</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/demo_15_0.png"><img alt="_images/demo_15_0.png" src="_images/demo_15_0.png" style="width: 509.15px; height: 378.25px;" /></a>
<p>The interface also supports semantic mappings between data and plot
variables. But the specification of those mappings uses more explicit
parameter names:</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">so</span><span class="o">.</span><span class="n">Plot</span><span class="p">(</span><span class="n">tips</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s2">&quot;total_bill&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;tip&quot;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;time&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">so</span><span class="o">.</span><span class="n">Dots</span><span class="p">())</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/demo_17_0.png"><img alt="_images/demo_17_0.png" src="_images/demo_17_0.png" style="width: 600.9499999999999px; height: 378.25px;" /></a>
<p>It also offers a wider range of mappable features:</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">(</span>
    <span class="n">so</span><span class="o">.</span><span class="n">Plot</span><span class="p">(</span><span class="n">tips</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s2">&quot;total_bill&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;tip&quot;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;day&quot;</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="s2">&quot;time&quot;</span><span class="p">)</span>
    <span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">so</span><span class="o">.</span><span class="n">Dots</span><span class="p">(</span><span class="n">fillalpha</span><span class="o">=</span><span class="mf">.8</span><span class="p">))</span>
<span class="p">)</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/demo_19_0.png"><img alt="_images/demo_19_0.png" src="_images/demo_19_0.png" style="width: 600.9499999999999px; height: 378.25px;" /></a>
</section>
<hr class="docutils" />
<section id="core-components">
<h2>Core components<a class="headerlink" href="#core-components" title="Permalink to this heading">#</a></h2>
<section id="visual-representation-the-mark">
<h3>Visual representation: the Mark<a class="headerlink" href="#visual-representation-the-mark" title="Permalink to this heading">#</a></h3>
<p>Each layer needs a <code class="docutils literal notranslate"><span class="pre">Mark</span></code> object, which defines how to draw the plot.
There will be marks corresponding to existing seaborn functions and ones
offering new functionality. But not many have been implemented yet:</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fmri</span> <span class="o">=</span> <span class="n">load_dataset</span><span class="p">(</span><span class="s2">&quot;fmri&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s2">&quot;region == &#39;parietal&#39;&quot;</span><span class="p">)</span>
<span class="n">so</span><span class="o">.</span><span class="n">Plot</span><span class="p">(</span><span class="n">fmri</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s2">&quot;timepoint&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;signal&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">so</span><span class="o">.</span><span class="n">Line</span><span class="p">())</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/demo_22_0.png"><img alt="_images/demo_22_0.png" src="_images/demo_22_0.png" style="width: 509.15px; height: 378.25px;" /></a>
<p><code class="docutils literal notranslate"><span class="pre">Mark</span></code> objects will expose an API to set features directly, rather
than mapping them:</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">so</span><span class="o">.</span><span class="n">Plot</span><span class="p">(</span><span class="n">tips</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;day&quot;</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s2">&quot;total_bill&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">so</span><span class="o">.</span><span class="n">Dot</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="s2">&quot;#698&quot;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">.5</span><span class="p">))</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/demo_24_0.png"><img alt="_images/demo_24_0.png" src="_images/demo_24_0.png" style="width: 509.15px; height: 378.25px;" /></a>
</section>
<section id="data-transformations-the-stat">
<h3>Data transformations: the Stat<a class="headerlink" href="#data-transformations-the-stat" title="Permalink to this heading">#</a></h3>
<p>Built-in statistical transformations are one of seaborn’s key features.
But currently, they are tied up with the different visual
representations. E.g., you can aggregate data in <code class="docutils literal notranslate"><span class="pre">lineplot</span></code>, but not
in <code class="docutils literal notranslate"><span class="pre">scatterplot</span></code>.</p>
<p>In the new interface, these concerns are separated. Each layer can
accept a <code class="docutils literal notranslate"><span class="pre">Stat</span></code> object that applies a data transformation:</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">so</span><span class="o">.</span><span class="n">Plot</span><span class="p">(</span><span class="n">fmri</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s2">&quot;timepoint&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;signal&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">so</span><span class="o">.</span><span class="n">Line</span><span class="p">(),</span> <span class="n">so</span><span class="o">.</span><span class="n">Agg</span><span class="p">())</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/demo_26_0.png"><img alt="_images/demo_26_0.png" src="_images/demo_26_0.png" style="width: 509.15px; height: 378.25px;" /></a>
<p>A <code class="docutils literal notranslate"><span class="pre">Stat</span></code> is computed on subsets of data defined by the semantic
mappings:</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">so</span><span class="o">.</span><span class="n">Plot</span><span class="p">(</span><span class="n">fmri</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s2">&quot;timepoint&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;signal&quot;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;event&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">so</span><span class="o">.</span><span class="n">Line</span><span class="p">(),</span> <span class="n">so</span><span class="o">.</span><span class="n">Agg</span><span class="p">())</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/demo_28_0.png"><img alt="_images/demo_28_0.png" src="_images/demo_28_0.png" style="width: 587.35px; height: 378.25px;" /></a>
<p>Each mark also accepts a <code class="docutils literal notranslate"><span class="pre">group</span></code> mapping that creates subsets without
altering visual properties:</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">(</span>
    <span class="n">so</span><span class="o">.</span><span class="n">Plot</span><span class="p">(</span><span class="n">fmri</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s2">&quot;timepoint&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;signal&quot;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;event&quot;</span><span class="p">)</span>
    <span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">so</span><span class="o">.</span><span class="n">Line</span><span class="p">(),</span> <span class="n">so</span><span class="o">.</span><span class="n">Agg</span><span class="p">(),</span> <span class="n">group</span><span class="o">=</span><span class="s2">&quot;subject&quot;</span><span class="p">)</span>
<span class="p">)</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/demo_30_0.png"><img alt="_images/demo_30_0.png" src="_images/demo_30_0.png" style="width: 587.35px; height: 378.25px;" /></a>
<p>The <code class="docutils literal notranslate"><span class="pre">Mark</span></code> and <code class="docutils literal notranslate"><span class="pre">Stat</span></code> objects allow for more compositionality and
customization. There will be guidelines for how to define your own
objects to plug into the broader system:</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">PeakAnnotation</span><span class="p">(</span><span class="n">so</span><span class="o">.</span><span class="n">Mark</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">_plot</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">split_generator</span><span class="p">,</span> <span class="n">scales</span><span class="p">,</span> <span class="n">orient</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">keys</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">ax</span> <span class="ow">in</span> <span class="n">split_generator</span><span class="p">():</span>
            <span class="n">ix</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s2">&quot;y&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">idxmax</span><span class="p">()</span>
            <span class="n">ax</span><span class="o">.</span><span class="n">annotate</span><span class="p">(</span>
                <span class="s2">&quot;The peak&quot;</span><span class="p">,</span> <span class="n">data</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">ix</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="s2">&quot;y&quot;</span><span class="p">]],</span>
                <span class="n">xytext</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="o">-</span><span class="mi">100</span><span class="p">),</span> <span class="n">textcoords</span><span class="o">=</span><span class="s2">&quot;offset points&quot;</span><span class="p">,</span>
                <span class="n">va</span><span class="o">=</span><span class="s2">&quot;top&quot;</span><span class="p">,</span> <span class="n">ha</span><span class="o">=</span><span class="s2">&quot;center&quot;</span><span class="p">,</span>
                <span class="n">arrowprops</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">arrowstyle</span><span class="o">=</span><span class="s2">&quot;-&gt;&quot;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;.2&quot;</span><span class="p">),</span>

            <span class="p">)</span>

<span class="p">(</span>
    <span class="n">so</span><span class="o">.</span><span class="n">Plot</span><span class="p">(</span><span class="n">fmri</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s2">&quot;timepoint&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;signal&quot;</span><span class="p">)</span>
    <span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">so</span><span class="o">.</span><span class="n">Line</span><span class="p">(),</span> <span class="n">so</span><span class="o">.</span><span class="n">Agg</span><span class="p">())</span>
    <span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">PeakAnnotation</span><span class="p">(),</span> <span class="n">so</span><span class="o">.</span><span class="n">Agg</span><span class="p">())</span>
<span class="p">)</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/demo_32_0.png"><img alt="_images/demo_32_0.png" src="_images/demo_32_0.png" style="width: 509.15px; height: 378.25px;" /></a>
<p>The new interface understands not just <code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">y</span></code>, but also range
specifiers; some <code class="docutils literal notranslate"><span class="pre">Stat</span></code> objects will output ranges, and some <code class="docutils literal notranslate"><span class="pre">Mark</span></code>
objects will accept them. (This means that it will finally be possible
to pass pre-defined error-bars into seaborn):</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">(</span>
    <span class="n">fmri</span>
    <span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">&quot;timepoint&quot;</span><span class="p">)</span>
    <span class="o">.</span><span class="n">signal</span>
    <span class="o">.</span><span class="n">describe</span><span class="p">()</span>
    <span class="o">.</span><span class="n">pipe</span><span class="p">(</span><span class="n">so</span><span class="o">.</span><span class="n">Plot</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s2">&quot;timepoint&quot;</span><span class="p">)</span>
    <span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">so</span><span class="o">.</span><span class="n">Line</span><span class="p">(),</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;mean&quot;</span><span class="p">)</span>
    <span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">so</span><span class="o">.</span><span class="n">Band</span><span class="p">(</span><span class="n">alpha</span><span class="o">=</span><span class="mf">.2</span><span class="p">),</span> <span class="n">ymin</span><span class="o">=</span><span class="s2">&quot;min&quot;</span><span class="p">,</span> <span class="n">ymax</span><span class="o">=</span><span class="s2">&quot;max&quot;</span><span class="p">)</span>
<span class="p">)</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/demo_34_0.png"><img alt="_images/demo_34_0.png" src="_images/demo_34_0.png" style="width: 509.15px; height: 378.25px;" /></a>
</section>
<hr class="docutils" />
<section id="overplotting-resolution-the-move">
<h3>Overplotting resolution: the Move<a class="headerlink" href="#overplotting-resolution-the-move" title="Permalink to this heading">#</a></h3>
<p>Existing seaborn functions have parameters that allow adjustments for
overplotting, such as <code class="docutils literal notranslate"><span class="pre">dodge=</span></code> in several categorical functions,
<code class="docutils literal notranslate"><span class="pre">jitter=</span></code> in several functions based on scatter plots, and the
<code class="docutils literal notranslate"><span class="pre">multiple=</span></code> parameter in distribution functions. In the new interface,
those adjustments are abstracted away from the particular visual
representation into the concept of a <code class="docutils literal notranslate"><span class="pre">Move</span></code>:</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">(</span>
    <span class="n">so</span><span class="o">.</span><span class="n">Plot</span><span class="p">(</span><span class="n">tips</span><span class="p">,</span> <span class="s2">&quot;day&quot;</span><span class="p">,</span> <span class="s2">&quot;total_bill&quot;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;time&quot;</span><span class="p">)</span>
    <span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">so</span><span class="o">.</span><span class="n">Dot</span><span class="p">(),</span> <span class="n">so</span><span class="o">.</span><span class="n">Dodge</span><span class="p">())</span>
<span class="p">)</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/demo_36_0.png"><img alt="_images/demo_36_0.png" src="_images/demo_36_0.png" style="width: 600.9499999999999px; height: 378.25px;" /></a>
<p>Separating out the positional adjustment makes it possible to add
additional flexibility without overwhelming the signature of a single
function. For example, there will be more options for handling missing
levels when dodging and for fine-tuning the adjustment.</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">(</span>
    <span class="n">so</span><span class="o">.</span><span class="n">Plot</span><span class="p">(</span><span class="n">tips</span><span class="p">,</span> <span class="s2">&quot;day&quot;</span><span class="p">,</span> <span class="s2">&quot;total_bill&quot;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;time&quot;</span><span class="p">)</span>
    <span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">so</span><span class="o">.</span><span class="n">Bar</span><span class="p">(),</span> <span class="n">so</span><span class="o">.</span><span class="n">Agg</span><span class="p">(),</span> <span class="n">so</span><span class="o">.</span><span class="n">Dodge</span><span class="p">(</span><span class="n">empty</span><span class="o">=</span><span class="s2">&quot;fill&quot;</span><span class="p">,</span> <span class="n">gap</span><span class="o">=</span><span class="mf">.1</span><span class="p">))</span>
<span class="p">)</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/demo_38_0.png"><img alt="_images/demo_38_0.png" src="_images/demo_38_0.png" style="width: 600.9499999999999px; height: 378.25px;" /></a>
<p>By default, the <code class="docutils literal notranslate"><span class="pre">move</span></code> will resolve all overlapping semantic mappings:</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">(</span>
    <span class="n">so</span><span class="o">.</span><span class="n">Plot</span><span class="p">(</span><span class="n">tips</span><span class="p">,</span> <span class="s2">&quot;day&quot;</span><span class="p">,</span> <span class="s2">&quot;total_bill&quot;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;time&quot;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="s2">&quot;sex&quot;</span><span class="p">)</span>
    <span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">so</span><span class="o">.</span><span class="n">Bar</span><span class="p">(),</span> <span class="n">so</span><span class="o">.</span><span class="n">Agg</span><span class="p">(),</span> <span class="n">so</span><span class="o">.</span><span class="n">Dodge</span><span class="p">())</span>
<span class="p">)</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/demo_40_0.png"><img alt="_images/demo_40_0.png" src="_images/demo_40_0.png" style="width: 606.05px; height: 378.25px;" /></a>
<p>But you can specify a subset:</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">(</span>
    <span class="n">so</span><span class="o">.</span><span class="n">Plot</span><span class="p">(</span><span class="n">tips</span><span class="p">,</span> <span class="s2">&quot;day&quot;</span><span class="p">,</span> <span class="s2">&quot;total_bill&quot;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;time&quot;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="s2">&quot;smoker&quot;</span><span class="p">)</span>
    <span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">so</span><span class="o">.</span><span class="n">Dot</span><span class="p">(),</span> <span class="n">so</span><span class="o">.</span><span class="n">Dodge</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;color&quot;</span><span class="p">]))</span>
<span class="p">)</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/demo_42_0.png"><img alt="_images/demo_42_0.png" src="_images/demo_42_0.png" style="width: 600.9499999999999px; height: 378.25px;" /></a>
<p>It’s also possible to stack multiple moves or kinds of moves:</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">(</span>
    <span class="n">so</span><span class="o">.</span><span class="n">Plot</span><span class="p">(</span><span class="n">tips</span><span class="p">,</span> <span class="s2">&quot;day&quot;</span><span class="p">,</span> <span class="s2">&quot;total_bill&quot;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;time&quot;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="s2">&quot;smoker&quot;</span><span class="p">)</span>
    <span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">so</span><span class="o">.</span><span class="n">Dot</span><span class="p">(),</span> <span class="n">so</span><span class="o">.</span><span class="n">Dodge</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;color&quot;</span><span class="p">]),</span> <span class="n">so</span><span class="o">.</span><span class="n">Jitter</span><span class="p">(</span><span class="mf">.5</span><span class="p">))</span>
<span class="p">)</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/demo_44_0.png"><img alt="_images/demo_44_0.png" src="_images/demo_44_0.png" style="width: 600.9499999999999px; height: 378.25px;" /></a>
<p>Separating the <code class="docutils literal notranslate"><span class="pre">Stat</span></code> and <code class="docutils literal notranslate"><span class="pre">Move</span></code> from the visual representation
affords more flexibility, greatly expanding the space of graphics that
can be created.</p>
</section>
<hr class="docutils" />
<section id="semantic-mapping-the-scale">
<h3>Semantic mapping: the Scale<a class="headerlink" href="#semantic-mapping-the-scale" title="Permalink to this heading">#</a></h3>
<p>The declarative interface allows users to represent dataset variables
with visual properites such as position, color or size. A complete plot
can be made without doing anything more defining the mappings: users
need not be concerned with converting their data into units that
matplotlib understands. But what if one wants to alter the mapping that
seaborn chooses? This is accomplished through the concept of a
<code class="docutils literal notranslate"><span class="pre">Scale</span></code>.</p>
<p>The notion of scaling will probably not be unfamiliar; as in matplotlib,
seaborn allows one to apply a mathematical transformation, such as
<code class="docutils literal notranslate"><span class="pre">log</span></code>, to the coordinate variables:</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">planets</span> <span class="o">=</span> <span class="n">load_dataset</span><span class="p">(</span><span class="s2">&quot;planets&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s2">&quot;distance &lt; 1000&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">(</span>
    <span class="n">so</span><span class="o">.</span><span class="n">Plot</span><span class="p">(</span><span class="n">planets</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s2">&quot;mass&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;distance&quot;</span><span class="p">)</span>
    <span class="o">.</span><span class="n">scale</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s2">&quot;log&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;log&quot;</span><span class="p">)</span>
    <span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">so</span><span class="o">.</span><span class="n">Dots</span><span class="p">())</span>
<span class="p">)</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/demo_48_0.png"><img alt="_images/demo_48_0.png" src="_images/demo_48_0.png" style="width: 509.15px; height: 378.25px;" /></a>
<p>But the <code class="docutils literal notranslate"><span class="pre">Scale</span></code> concept is much more general in seaborn: a scale can
be provided for any mappable property. For example, it is how you
specify the palette used for color variables:</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">(</span>
    <span class="n">so</span><span class="o">.</span><span class="n">Plot</span><span class="p">(</span><span class="n">planets</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s2">&quot;mass&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;distance&quot;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;orbital_period&quot;</span><span class="p">)</span>
    <span class="o">.</span><span class="n">scale</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s2">&quot;log&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;log&quot;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;rocket&quot;</span><span class="p">)</span>
    <span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">so</span><span class="o">.</span><span class="n">Dots</span><span class="p">())</span>
<span class="p">)</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/demo_50_0.png"><img alt="_images/demo_50_0.png" src="_images/demo_50_0.png" style="width: 612.0px; height: 378.25px;" /></a>
<p>While there are a number of short-hand “magic” arguments you can provide
for each scale, it is also possible to be more explicit by passing a
<code class="docutils literal notranslate"><span class="pre">Scale</span></code> object. There are several distinct <code class="docutils literal notranslate"><span class="pre">Scale</span></code> classes,
corresponding to the fundamental scale types (nominal, ordinal,
continuous, etc.). Each class exposes a number of relevant parameters
that control the details of the mapping:</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">(</span>
    <span class="n">so</span><span class="o">.</span><span class="n">Plot</span><span class="p">(</span><span class="n">planets</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s2">&quot;mass&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;distance&quot;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;orbital_period&quot;</span><span class="p">)</span>
    <span class="o">.</span><span class="n">scale</span><span class="p">(</span>
        <span class="n">x</span><span class="o">=</span><span class="s2">&quot;log&quot;</span><span class="p">,</span>
        <span class="n">y</span><span class="o">=</span><span class="n">so</span><span class="o">.</span><span class="n">Continuous</span><span class="p">(</span><span class="n">trans</span><span class="o">=</span><span class="s2">&quot;log&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">tick</span><span class="p">(</span><span class="n">at</span><span class="o">=</span><span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">300</span><span class="p">]),</span>
        <span class="n">color</span><span class="o">=</span><span class="n">so</span><span class="o">.</span><span class="n">Continuous</span><span class="p">(</span><span class="s2">&quot;rocket&quot;</span><span class="p">,</span> <span class="n">trans</span><span class="o">=</span><span class="s2">&quot;log&quot;</span><span class="p">),</span>
    <span class="p">)</span>
    <span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">so</span><span class="o">.</span><span class="n">Dots</span><span class="p">())</span>
<span class="p">)</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/demo_52_0.png"><img alt="_images/demo_52_0.png" src="_images/demo_52_0.png" style="width: 612.0px; height: 378.25px;" /></a>
<p>There are several different kinds of scales, including scales
appropriate for categorical data:</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">(</span>
    <span class="n">so</span><span class="o">.</span><span class="n">Plot</span><span class="p">(</span><span class="n">planets</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s2">&quot;year&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;distance&quot;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;method&quot;</span><span class="p">)</span>
    <span class="o">.</span><span class="n">scale</span><span class="p">(</span>
        <span class="n">y</span><span class="o">=</span><span class="s2">&quot;log&quot;</span><span class="p">,</span>
        <span class="n">color</span><span class="o">=</span><span class="n">so</span><span class="o">.</span><span class="n">Nominal</span><span class="p">([</span><span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="s2">&quot;g&quot;</span><span class="p">],</span> <span class="n">order</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Radial Velocity&quot;</span><span class="p">,</span> <span class="s2">&quot;Transit&quot;</span><span class="p">])</span>
    <span class="p">)</span>
    <span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">so</span><span class="o">.</span><span class="n">Dots</span><span class="p">())</span>
<span class="p">)</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/demo_54_0.png"><img alt="_images/demo_54_0.png" src="_images/demo_54_0.png" style="width: 646.425px; height: 378.25px;" /></a>
<p>It’s also possible to disable scaling for a variable so that the literal
values in the dataset are passed directly through to matplotlib:</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">(</span>
    <span class="n">so</span><span class="o">.</span><span class="n">Plot</span><span class="p">(</span><span class="n">planets</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s2">&quot;distance&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;orbital_period&quot;</span><span class="p">,</span> <span class="n">pointsize</span><span class="o">=</span><span class="s2">&quot;mass&quot;</span><span class="p">)</span>
    <span class="o">.</span><span class="n">scale</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s2">&quot;log&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;log&quot;</span><span class="p">,</span> <span class="n">pointsize</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
    <span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">so</span><span class="o">.</span><span class="n">Dots</span><span class="p">())</span>
<span class="p">)</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/demo_56_0.png"><img alt="_images/demo_56_0.png" src="_images/demo_56_0.png" style="width: 509.15px; height: 378.25px;" /></a>
<p>Scaling interacts with the <code class="docutils literal notranslate"><span class="pre">Stat</span></code> and <code class="docutils literal notranslate"><span class="pre">Move</span></code> transformations. When
an axis has a nonlinear scale, any statistical transformations or
adjustments take place in the appropriate space:</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">so</span><span class="o">.</span><span class="n">Plot</span><span class="p">(</span><span class="n">planets</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s2">&quot;distance&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">so</span><span class="o">.</span><span class="n">Bars</span><span class="p">(),</span> <span class="n">so</span><span class="o">.</span><span class="n">Hist</span><span class="p">())</span><span class="o">.</span><span class="n">scale</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s2">&quot;log&quot;</span><span class="p">)</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/demo_58_0.png"><img alt="_images/demo_58_0.png" src="_images/demo_58_0.png" style="width: 509.15px; height: 378.25px;" /></a>
<p>This is also true of the <code class="docutils literal notranslate"><span class="pre">Move</span></code> transformations:</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">(</span>
    <span class="n">so</span><span class="o">.</span><span class="n">Plot</span><span class="p">(</span>
        <span class="n">planets</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s2">&quot;distance&quot;</span><span class="p">,</span>
        <span class="n">color</span><span class="o">=</span><span class="p">(</span><span class="n">planets</span><span class="p">[</span><span class="s2">&quot;number&quot;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="s2">&quot;multiple&quot;</span><span class="p">)</span>
    <span class="p">)</span>
    <span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">so</span><span class="o">.</span><span class="n">Bars</span><span class="p">(),</span> <span class="n">so</span><span class="o">.</span><span class="n">Hist</span><span class="p">(),</span> <span class="n">so</span><span class="o">.</span><span class="n">Dodge</span><span class="p">())</span>
    <span class="o">.</span><span class="n">scale</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s2">&quot;log&quot;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">so</span><span class="o">.</span><span class="n">Nominal</span><span class="p">())</span>
<span class="p">)</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/demo_60_0.png"><img alt="_images/demo_60_0.png" src="_images/demo_60_0.png" style="width: 595.0px; height: 378.25px;" /></a>
</section>
</section>
<hr class="docutils" />
<section id="defining-subplot-structure">
<h2>Defining subplot structure<a class="headerlink" href="#defining-subplot-structure" title="Permalink to this heading">#</a></h2>
<p>Seaborn’s faceting functionality (drawing subsets of the data on
distinct subplots) is built into the <code class="docutils literal notranslate"><span class="pre">Plot</span></code> object and works
interchangably with any <code class="docutils literal notranslate"><span class="pre">Mark</span></code>/<code class="docutils literal notranslate"><span class="pre">Stat</span></code>/<code class="docutils literal notranslate"><span class="pre">Move</span></code>/<code class="docutils literal notranslate"><span class="pre">Scale</span></code> spec:</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">(</span>
    <span class="n">so</span><span class="o">.</span><span class="n">Plot</span><span class="p">(</span><span class="n">tips</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s2">&quot;total_bill&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;tip&quot;</span><span class="p">)</span>
    <span class="o">.</span><span class="n">facet</span><span class="p">(</span><span class="s2">&quot;time&quot;</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Dinner&quot;</span><span class="p">,</span> <span class="s2">&quot;Lunch&quot;</span><span class="p">])</span>
    <span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">so</span><span class="o">.</span><span class="n">Dots</span><span class="p">())</span>
<span class="p">)</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/demo_63_0.png"><img alt="_images/demo_63_0.png" src="_images/demo_63_0.png" style="width: 509.15px; height: 378.25px;" /></a>
<p>Unlike the existing <code class="docutils literal notranslate"><span class="pre">FacetGrid</span></code> it is simple to <em>not</em> facet a layer,
so that a plot is simply replicated across each column (or row):</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">(</span>
    <span class="n">so</span><span class="o">.</span><span class="n">Plot</span><span class="p">(</span><span class="n">tips</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s2">&quot;total_bill&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;tip&quot;</span><span class="p">)</span>
    <span class="o">.</span><span class="n">facet</span><span class="p">(</span><span class="n">col</span><span class="o">=</span><span class="s2">&quot;day&quot;</span><span class="p">)</span>
    <span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">so</span><span class="o">.</span><span class="n">Dots</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="s2">&quot;.75&quot;</span><span class="p">),</span> <span class="n">col</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
    <span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">so</span><span class="o">.</span><span class="n">Dots</span><span class="p">(),</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;day&quot;</span><span class="p">)</span>
    <span class="o">.</span><span class="n">layout</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
<span class="p">)</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/demo_65_0.png"><img alt="_images/demo_65_0.png" src="_images/demo_65_0.png" style="width: 637.925px; height: 231.625px;" /></a>
<p>The <code class="docutils literal notranslate"><span class="pre">Plot</span></code> object <em>also</em> subsumes the <code class="docutils literal notranslate"><span class="pre">PairGrid</span></code> functionality:</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">(</span>
    <span class="n">so</span><span class="o">.</span><span class="n">Plot</span><span class="p">(</span><span class="n">tips</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;day&quot;</span><span class="p">)</span>
    <span class="o">.</span><span class="n">pair</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;total_bill&quot;</span><span class="p">,</span> <span class="s2">&quot;tip&quot;</span><span class="p">])</span>
    <span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">so</span><span class="o">.</span><span class="n">Dot</span><span class="p">())</span>
<span class="p">)</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/demo_67_0.png"><img alt="_images/demo_67_0.png" src="_images/demo_67_0.png" style="width: 505.325px; height: 378.25px;" /></a>
<p>Pairing and faceting can be combined in the same plot:</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">(</span>
    <span class="n">so</span><span class="o">.</span><span class="n">Plot</span><span class="p">(</span><span class="n">tips</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s2">&quot;day&quot;</span><span class="p">)</span>
    <span class="o">.</span><span class="n">facet</span><span class="p">(</span><span class="s2">&quot;sex&quot;</span><span class="p">)</span>
    <span class="o">.</span><span class="n">pair</span><span class="p">(</span><span class="n">y</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;total_bill&quot;</span><span class="p">,</span> <span class="s2">&quot;tip&quot;</span><span class="p">])</span>
    <span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">so</span><span class="o">.</span><span class="n">Dot</span><span class="p">())</span>
<span class="p">)</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/demo_69_0.png"><img alt="_images/demo_69_0.png" src="_images/demo_69_0.png" style="width: 507.45px; height: 378.25px;" /></a>
<p>Or the <code class="docutils literal notranslate"><span class="pre">Plot.pair</span></code> functionality can be used to define unique pairings
between variables:</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">(</span>
    <span class="n">so</span><span class="o">.</span><span class="n">Plot</span><span class="p">(</span><span class="n">tips</span><span class="p">)</span>
    <span class="o">.</span><span class="n">pair</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;day&quot;</span><span class="p">,</span> <span class="s2">&quot;time&quot;</span><span class="p">],</span> <span class="n">y</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;total_bill&quot;</span><span class="p">,</span> <span class="s2">&quot;tip&quot;</span><span class="p">],</span> <span class="n">cross</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">so</span><span class="o">.</span><span class="n">Dot</span><span class="p">())</span>
<span class="p">)</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/demo_71_0.png"><img alt="_images/demo_71_0.png" src="_images/demo_71_0.png" style="width: 508.72499999999997px; height: 378.25px;" /></a>
<p>It’s additionally possible to “pair” with a single variable, for
univariate plots like histograms.</p>
<p>Both faceted and paired plots with subplots along a single dimension can
be “wrapped”, and this works both columwise and rowwise:</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">(</span>
    <span class="n">so</span><span class="o">.</span><span class="n">Plot</span><span class="p">(</span><span class="n">tips</span><span class="p">)</span>
    <span class="o">.</span><span class="n">pair</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">tips</span><span class="o">.</span><span class="n">columns</span><span class="p">,</span> <span class="n">wrap</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
    <span class="o">.</span><span class="n">share</span><span class="p">(</span><span class="n">y</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">so</span><span class="o">.</span><span class="n">Bar</span><span class="p">(),</span> <span class="n">so</span><span class="o">.</span><span class="n">Hist</span><span class="p">())</span>
<span class="p">)</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/demo_73_0.png"><img alt="_images/demo_73_0.png" src="_images/demo_73_0.png" style="width: 509.15px; height: 382.5px;" /></a>
<p>Importantly, there’s no distinction between “axes-level” and
“figure-level” here. Any kind of plot can be faceted or paired by adding
a method call to the <code class="docutils literal notranslate"><span class="pre">Plot</span></code> definition, without changing anything else
about how you are creating the figure.</p>
</section>
<hr class="docutils" />
<section id="customization">
<h2>Customization<a class="headerlink" href="#customization" title="Permalink to this heading">#</a></h2>
<p>This API is less developed than other aspects of the new interface, but
it will be possible to customize various aspects of the plot through the
seaborn interface, without dropping down to matplotlib:</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">(</span>
    <span class="n">so</span><span class="o">.</span><span class="n">Plot</span><span class="p">(</span><span class="n">tips</span><span class="p">,</span> <span class="s2">&quot;day&quot;</span><span class="p">,</span> <span class="s2">&quot;total_bill&quot;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;sex&quot;</span><span class="p">)</span>
    <span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">so</span><span class="o">.</span><span class="n">Bar</span><span class="p">(),</span> <span class="n">so</span><span class="o">.</span><span class="n">Agg</span><span class="p">(),</span> <span class="n">so</span><span class="o">.</span><span class="n">Dodge</span><span class="p">())</span>
    <span class="o">.</span><span class="n">scale</span><span class="p">(</span><span class="n">y</span><span class="o">=</span><span class="n">so</span><span class="o">.</span><span class="n">Continuous</span><span class="p">()</span><span class="o">.</span><span class="n">label</span><span class="p">(</span><span class="n">like</span><span class="o">=</span><span class="s2">&quot;$</span><span class="si">{x:.0f}</span><span class="s2">&quot;</span><span class="p">))</span>
    <span class="o">.</span><span class="n">label</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="nb">str</span><span class="o">.</span><span class="n">capitalize</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;Total bill&quot;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
    <span class="o">.</span><span class="n">limit</span><span class="p">(</span><span class="n">y</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">28</span><span class="p">))</span>
<span class="p">)</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/demo_76_0.png"><img alt="_images/demo_76_0.png" src="_images/demo_76_0.png" style="width: 606.05px; height: 378.25px;" /></a>
</section>
<hr class="docutils" />
<section id="iterating-and-displaying">
<h2>Iterating and displaying<a class="headerlink" href="#iterating-and-displaying" title="Permalink to this heading">#</a></h2>
<p>It is possible (and in fact the deafult behavior) to be completely
pyplot-free, and all the drawing is done by directly hooking into
Jupyter’s rich display system. Unlike in normal usage of the inline
backend, writing code in a cell to define a plot is independent from
showing it:</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">p</span> <span class="o">=</span> <span class="n">so</span><span class="o">.</span><span class="n">Plot</span><span class="p">(</span><span class="n">fmri</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s2">&quot;timepoint&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;signal&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">so</span><span class="o">.</span><span class="n">Line</span><span class="p">(),</span> <span class="n">so</span><span class="o">.</span><span class="n">Agg</span><span class="p">())</span>
</pre></div>
</div>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">p</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/demo_80_0.png"><img alt="_images/demo_80_0.png" src="_images/demo_80_0.png" style="width: 509.15px; height: 378.25px;" /></a>
<p>By default, the methods on <code class="docutils literal notranslate"><span class="pre">Plot</span></code> do <em>not</em> mutate the object they are
called on. This means that you can define a common base specification
and then iterate on different versions of it.</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">p</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">so</span><span class="o">.</span><span class="n">Plot</span><span class="p">(</span><span class="n">fmri</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s2">&quot;timepoint&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;signal&quot;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;event&quot;</span><span class="p">)</span>
    <span class="o">.</span><span class="n">scale</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="s2">&quot;crest&quot;</span><span class="p">)</span>
<span class="p">)</span>
</pre></div>
</div>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">p</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">so</span><span class="o">.</span><span class="n">Line</span><span class="p">())</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/demo_83_0.png"><img alt="_images/demo_83_0.png" src="_images/demo_83_0.png" style="width: 587.35px; height: 378.25px;" /></a>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">p</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">so</span><span class="o">.</span><span class="n">Line</span><span class="p">(),</span> <span class="n">group</span><span class="o">=</span><span class="s2">&quot;subject&quot;</span><span class="p">)</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/demo_84_0.png"><img alt="_images/demo_84_0.png" src="_images/demo_84_0.png" style="width: 587.35px; height: 378.25px;" /></a>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">p</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">so</span><span class="o">.</span><span class="n">Line</span><span class="p">(),</span> <span class="n">so</span><span class="o">.</span><span class="n">Agg</span><span class="p">())</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/demo_85_0.png"><img alt="_images/demo_85_0.png" src="_images/demo_85_0.png" style="width: 587.35px; height: 378.25px;" /></a>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">(</span>
    <span class="n">p</span>
    <span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">so</span><span class="o">.</span><span class="n">Line</span><span class="p">(</span><span class="n">linewidth</span><span class="o">=</span><span class="mf">.5</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">.5</span><span class="p">),</span> <span class="n">group</span><span class="o">=</span><span class="s2">&quot;subject&quot;</span><span class="p">)</span>
    <span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">so</span><span class="o">.</span><span class="n">Line</span><span class="p">(</span><span class="n">linewidth</span><span class="o">=</span><span class="mi">3</span><span class="p">),</span> <span class="n">so</span><span class="o">.</span><span class="n">Agg</span><span class="p">())</span>
<span class="p">)</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/demo_86_0.png"><img alt="_images/demo_86_0.png" src="_images/demo_86_0.png" style="width: 587.35px; height: 378.25px;" /></a>
<p>It’s also possible to hook into the <code class="docutils literal notranslate"><span class="pre">pyplot</span></code> system by calling
<code class="docutils literal notranslate"><span class="pre">Plot.show</span></code>. (As you might in a terminal interface, or to use a GUI).
Notice how this looks lower-res: that’s because <code class="docutils literal notranslate"><span class="pre">Plot</span></code> is generating
“high-DPI” figures internally!</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">(</span>
    <span class="n">p</span>
    <span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">so</span><span class="o">.</span><span class="n">Line</span><span class="p">(</span><span class="n">linewidth</span><span class="o">=</span><span class="mf">.5</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">.5</span><span class="p">),</span> <span class="n">group</span><span class="o">=</span><span class="s2">&quot;subject&quot;</span><span class="p">)</span>
    <span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">so</span><span class="o">.</span><span class="n">Line</span><span class="p">(</span><span class="n">linewidth</span><span class="o">=</span><span class="mi">3</span><span class="p">),</span> <span class="n">so</span><span class="o">.</span><span class="n">Agg</span><span class="p">())</span>
    <span class="o">.</span><span class="n">show</span><span class="p">()</span>
<span class="p">)</span>
</pre></div>
</div>
<img alt="_images/demo_88_0.png" src="_images/demo_88_0.png" />
</section>
<hr class="docutils" />
<section id="matplotlib-integration">
<h2>Matplotlib integration<a class="headerlink" href="#matplotlib-integration" title="Permalink to this heading">#</a></h2>
<p>It’s always been a design aim in seaborn to allow complicated seaborn
plots to coexist within the context of a larger matplotlib figure. This
is acheived within the “axes-level” functions, which accept an <code class="docutils literal notranslate"><span class="pre">ax=</span></code>
parameter. The <code class="docutils literal notranslate"><span class="pre">Plot</span></code> object <em>will</em> provide a similar functionality:</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib</span> <span class="k">as</span> <span class="nn">mpl</span>
<span class="n">_</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">mpl</span><span class="o">.</span><span class="n">figure</span><span class="o">.</span><span class="n">Figure</span><span class="p">()</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="p">(</span>
    <span class="n">so</span><span class="o">.</span><span class="n">Plot</span><span class="p">(</span><span class="n">tips</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s2">&quot;total_bill&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;tip&quot;</span><span class="p">)</span>
    <span class="o">.</span><span class="n">on</span><span class="p">(</span><span class="n">ax</span><span class="p">)</span>
    <span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">so</span><span class="o">.</span><span class="n">Dots</span><span class="p">())</span>
<span class="p">)</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/demo_90_0.png"><img alt="_images/demo_90_0.png" src="_images/demo_90_0.png" style="width: 509.15px; height: 378.25px;" /></a>
<p>But a limitation has been that the “figure-level” functions, which can
produce multiple subplots, cannot be directed towards an existing
figure. That is no longer the case; <code class="docutils literal notranslate"><span class="pre">Plot.on()</span></code> also accepts a
<code class="docutils literal notranslate"><span class="pre">Figure</span></code> (created either with or without <code class="docutils literal notranslate"><span class="pre">pyplot</span></code>) object:</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">=</span> <span class="n">mpl</span><span class="o">.</span><span class="n">figure</span><span class="o">.</span><span class="n">Figure</span><span class="p">()</span>
<span class="p">(</span>
    <span class="n">so</span><span class="o">.</span><span class="n">Plot</span><span class="p">(</span><span class="n">tips</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s2">&quot;total_bill&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;tip&quot;</span><span class="p">)</span>
    <span class="o">.</span><span class="n">on</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
    <span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">so</span><span class="o">.</span><span class="n">Dots</span><span class="p">())</span>
    <span class="o">.</span><span class="n">facet</span><span class="p">(</span><span class="s2">&quot;time&quot;</span><span class="p">)</span>
<span class="p">)</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/demo_92_0.png"><img alt="_images/demo_92_0.png" src="_images/demo_92_0.png" style="width: 509.15px; height: 378.25px;" /></a>
<p>Providing an existing figure is perhaps only marginally useful. While it
will ease the integration of seaborn with GUI frameworks, seaborn is
still using up the whole figure canvas. But with the introduction of the
<code class="docutils literal notranslate"><span class="pre">SubFigure</span></code> concept in matplotlib 3.4, it becomes possible to place a
small-multiples plot <em>within</em> a larger set of subplots:</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">=</span> <span class="n">mpl</span><span class="o">.</span><span class="n">figure</span><span class="o">.</span><span class="n">Figure</span><span class="p">(</span><span class="n">constrained_layout</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
<span class="n">sf1</span><span class="p">,</span> <span class="n">sf2</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">subfigures</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="p">(</span>
    <span class="n">so</span><span class="o">.</span><span class="n">Plot</span><span class="p">(</span><span class="n">tips</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s2">&quot;total_bill&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;tip&quot;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;day&quot;</span><span class="p">)</span>
    <span class="o">.</span><span class="n">layout</span><span class="p">(</span><span class="n">algo</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
    <span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">so</span><span class="o">.</span><span class="n">Dots</span><span class="p">(),</span> <span class="n">legend</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
    <span class="o">.</span><span class="n">on</span><span class="p">(</span><span class="n">sf1</span><span class="p">)</span>
    <span class="o">.</span><span class="n">plot</span><span class="p">()</span>
<span class="p">)</span>
<span class="p">(</span>
    <span class="n">so</span><span class="o">.</span><span class="n">Plot</span><span class="p">(</span><span class="n">tips</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s2">&quot;total_bill&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;tip&quot;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;day&quot;</span><span class="p">)</span>
    <span class="o">.</span><span class="n">layout</span><span class="p">(</span><span class="n">algo</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
    <span class="o">.</span><span class="n">facet</span><span class="p">(</span><span class="s2">&quot;day&quot;</span><span class="p">,</span> <span class="n">wrap</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
    <span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">so</span><span class="o">.</span><span class="n">Dots</span><span class="p">())</span>
    <span class="o">.</span><span class="n">on</span><span class="p">(</span><span class="n">sf2</span><span class="p">)</span>
    <span class="o">.</span><span class="n">plot</span><span class="p">()</span>
<span class="p">)</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/demo_94_0.png"><img alt="_images/demo_94_0.png" src="_images/demo_94_0.png" style="width: 729.3px; height: 335.75px;" /></a>
<p>Note that there may be some rough edges around this concept in the first
couple releases, especially relating to the legend positioning.</p>
</section>
</section>


          </article>
          

          
          
      </div>
      
    </div>
  </div>

  
    
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/pydata-sphinx-theme.js?digest=9b1a4fa89bdd0e95b23b"></script>

  <footer class="bd-footer"><div class="bd-footer__inner container">
  
  <div class="footer-item">
    
<p class="copyright">

    &copy; Copyright 2022, Michael Waskom.<br>

</p>

  </div>
  
  <div class="footer-item">
    
<p class="sphinx-version">
Created using <a href="http://sphinx-doc.org/">Sphinx</a> 5.1.1.<br>
</p>

  </div>
  
</div>
  </footer>
  </body>
</html>